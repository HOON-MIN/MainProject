<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.main.ateam.hospital.dao.HospitalDao">

<!-- <select id="getList" resultType="hvo"> -->
<!-- 	select * from hospital order by 1 desc -->
<!-- </select> -->

<select id="getDetail" parameterType="int" resultType="hvo">
	select * from hospital where hnum=#{num}
</select>


<resultMap type="doctorVO" id="hospitalDoctorResult">
<id property="hnum" column ="hnum"/>
<result property="dnum" column="dnum"/>
<result property="dname" column="dname"/>
<result property="dmajor" column="dmajor"/>

<collection 
	property="hospitalVO" 
	javaType="java.util.List"
 	ofType="hvo"
 	>
 	<id property="hnum" column="hnum" javaType="int"/>
	<result property="hname" column="hanme"/>
	<result property="otime" column="otime"/>
	<result property="ctime" column="ctime"/>
</collection>
</resultMap>


<select id="hospitalDoctorList" resultMap="hospitalDoctorResult">
select d.dnum , d.dname, d.dmajor ,h.hname,h.otime,h.ctime from doctor d , hospital h where d.hnum = h.hnum;
</select>


</mapper>

