<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.main.ateam.member.dao.MemberDao">

<select id="memberLogin" resultType="memberVO">
  	select * from member where id=#{id} and pwd=#{pwd}
  	</select>
  	<select id="memberMyPage" resultType="memberVO">
  	select num, id,pwd,name,ssn,age,gender,tel,email,addr,profimg,to_char(mdate,'YYYY-MM-DD')mdate from member where num=#{num}
  	</select>
  	<update id="memberUpdate">
  	update member set name=#{name},email=#{email},tel=#{tel},profimg=#{profimg} where num = #{num}
  	</update>
  	
  	<select id="idchk" parameterType="map" resultType="int">
	select count(*) from member where id=#{id} and pwd=#{pwd}
</select>
 <select id="idCheck" parameterType="map" resultType="int">
 select count(*) from member where id = #{id}
 </select>
<insert id="addMember" parameterType="memberVO">
	insert into member values(member_seq.nextVal,#{id},#{pwd},#{name},#{ssn},
							  #{age},#{addr},#{gender},#{tel},#{email},#{profimg},#{addr},sysdate)
</insert>
<select id="memberList" resultType="memberVO">
	select * from member order by 1 desc
</select>
  	
  	
  	<!-- 0918 add: dhlee 추가 -->
	<insert id="kakaoSignup" parameterType="memberVO">
		insert into member
		values(member_seq.nextval, #{id}, #{pwd}, #{name},
		#{ssn}, #{age},
		#{gender}, #{tel}, #{email}, #{addr}, #{profimg},
		sysdate)
	</insert>

	<select id="kakaoFlag" parameterType="string" resultType="int">
		select
		count(*) from member where id= #{ id }
	</select>

	<select id="userdetail" parameterType="string"
		resultType="memberVO">
		select num, id, name, ssn, age, decode(gender, '남자',
		'male', '여자', 'female') as "gender",
		tel, email, addr, profimg, mdate
		from member where id = #{ id }
	</select>  	
	
	
	
<select id="AndroidIdCheck" parameterType="map" resultType="int">
	select decode(id, #{id}, 1, 0) as boolean from member
</select>
	
</mapper>